<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scope</title>
    <script>
        /* 
            Scope (스코프)
            : 변수에 접근할 수 있는 범위 
            - 전역 범위 
            - 함수 범위 
            - 블록 범위 : var ❌, let ⭕
        */

        /* 
            Hoisting (호이스팅)
            : 선언을 범위 내에서 코드의 맨 위로 끌어올리는 동작
            * JavaScript 에서는 코드를 실행하기 전에 
              var 변수 선언, 선언적 함수 등을 호이스팅 한다.
        */

        // function 함수 (매개변수) { }
        function test() {
            console.log("test() 시작");
            
            console.log(`local : ${local}`);
            var local = 10                  // 선언만 끌어올리기 때문에 10이 아닌 undefined 출력 

            // var 는 블록 { } scope 지원하지 않는다. 
            if (local > 0) {
                var local = 20              // 같은 함수 스코프의 변수, 새로운 변수 아님
                console.log(`local : ${local}`);
            }
            console.log(`local : ${local}`);
            console.log("test() 종료");

        }

        // 함수 scope의 local2 에는 10
        function test2() {
            console.log("test2() 시작");

            // console.log(`local : ${local2}`);        // 에러 호이스팅은 이루어졌지만 let은 초기화 하지 않은 변수에 접근하면 에러 발생
            let local2 = 10


            // let 는 블록 { } scope 지원한다. 
            // 블록 scope의 local2에는 20 
            if (local2 > 0) {
               console.log(`local : ${local2}`);       // 에러 아래에 있는 local2의 선언을 호이스팅했고, 값은 없으므로 에러 발생 

                let local2 = 20 
                console.log(`local : ${local2}`);
            }

            // 함수 scope의 local2 에는 10 저장되어 있으므로 10 출력
            console.log(`local : ${local2}`);
            console.log("test2() 종료");
        
        }


        test()
        test2()


        /* 
            var, let 각각 호이스팅 적용됨 
            * let 은 호이스팅 되지만, 값이 초기화되지 않으면 접근 불가 (에러)
            * var 는 호이스팅도 되고, 값도 접근할 수 있지만 undefined 
            ✅ 호이스팅은 선언이 끌어올려지는 것이지 초기화가 끌어올려지는 것은 아니다. 
            ✅ let은 블록 스코프를 지원하고 var는 지원하지 않는다. 
        */

        console.log(test3);
        console.log(test4);

        var test3 = 'test'
        let test4 = 'test'
        

        

    </script>
</head>
<body>
    
</body>
</html>